/* jQuery Plugin jsPanel Copyright (c) 2014 Stefan Sträßer, <http://stefanstraesser.eu/> */
var jsPanel;
(function(d){jsPanel={version:"2.2.3 2014-12-14 12:30",ID:0,widthForMinimized:150,hintsTc:[],hintsTl:[],hintsTr:[],template:'<div class="jsPanel jsPanel-theme-default"><div class="jsPanel-hdr jsPanel-theme-default"><h3 class="jsPanel-title"></h3><div class="jsPanel-hdr-r"><div class="jsPanel-btn-close"><span class="jsglyph jsglyph-remove"></span></div><div class="jsPanel-btn-max"><span class="jsglyph jsglyph-maximize"></span></div><div class="jsPanel-btn-norm"><span class="jsglyph jsglyph-normalize"></span></div><div class="jsPanel-btn-min"><span class="jsglyph jsglyph-minimize"></span></div><div class="jsPanel-btn-small"><span class="jsglyph jsglyph-chevron-up"></span></div><div class="jsPanel-btn-smallrev"><span class="jsglyph jsglyph-chevron-down"></span></div></div><div class="jsPanel-hdr-toolbar jsPanel-clearfix"></div></div><div class="jsPanel-content jsPanel-theme-default"></div><div class="jsPanel-ftr jsPanel-theme-default jsPanel-clearfix"></div></div>',addToolbar:function(a,
b,c){"header"===b?jsPanel.configToolbar(c,a.header.toolbar,a):"footer"===b&&(a.footer.css({display:"block",padding:"5px 20px 5px 5px"}),jsPanel.configToolbar(c,a.footer,a));return a},autoclose:function(a,b,c){window.setTimeout(function(){var c=d("#"+b);0<c.length&&c.fadeOut("slow",function(){a.close()})},c)},calcPos:function(a,b,c,f){"auto"===b.position[a]?b.position[a]=30*c+"px":d.isFunction(b.position[a])?b.position[a]=b.position[a](f):b.position[a]=0===b.position[a]?"0":parseInt(b.position[a],
10)+"px";"body"===b.selector&&("top"===a&&(b.position.top=parseInt(b.position.top,10)+jsPanel.winscrollTop()+"px"),"bottom"===a&&(b.position.bottom=parseInt(b.position.bottom,10)-jsPanel.winscrollTop()+"px"),"left"===a&&(b.position.left=parseInt(b.position.left,10)+jsPanel.winscrollLeft()+"px"),"right"===a&&(b.position.right=parseInt(b.position.right,10)-jsPanel.winscrollLeft()+"px"));return b.position[a]},calcPosCenter:function(a){var b=d(a.selector).outerWidth()/2-parseInt(a.size.width,10)/2;return{top:("body"===
a.selector?d(window).outerHeight()/2-(parseInt(a.size.height,10)/2-jsPanel.winscrollTop()):d(a.selector).outerHeight()/2-parseInt(a.size.height,10)/2)+"px",left:b+"px"}},calcPosmaxtoScreen:function(a){var b=a.offset();return{top:parseInt(a.css("top"))-(b.top-d(document).scrollTop())+5+"px",left:parseInt(a.css("left"))-(b.left-d(document).scrollLeft())+5+"px"}},calcPosTooltipLeft:function(a,b,c){b=b.outerWidth();var d=c.offset.left||0;return"top"===a||"bottom"===a?(b-c.size.width)/2+d+"px":"left"===
a?-c.size.width+d+"px":"right"===a?b+d+"px":!1},calcPosTooltipTop:function(a,b,c){b=b.innerHeight();var d=c.offset.top||0;return"left"===a||"right"===a?-(c.size.height/2)+b/2+d+"px":"top"===a?-(c.size.height+d)+"px":"bottom"===a?b+d+"px":!1},calcToooltipPosition:function(a,b){"top"===b.paneltype.position?b.position={top:jsPanel.calcPosTooltipTop("top",a,b),left:jsPanel.calcPosTooltipLeft("top",a,b)}:"bottom"===b.paneltype.position?b.position={top:jsPanel.calcPosTooltipTop("bottom",a,b),left:jsPanel.calcPosTooltipLeft("bottom",
a,b)}:"left"===b.paneltype.position?b.position={top:jsPanel.calcPosTooltipTop("left",a,b),left:jsPanel.calcPosTooltipLeft("left",a,b)}:"right"===b.paneltype.position&&(b.position={top:jsPanel.calcPosTooltipTop("right",a,b),left:jsPanel.calcPosTooltipLeft("right",a,b)});return b.position},calcVerticalOffset:function(a){return a.offset().top-jsPanel.winscrollTop()},close:function(a,b,c){var f=a.parent(),e=a.attr("id");jsPanel.closeChildpanels(a);f.hasClass("jsPanel-tooltip-wrapper")&&a.unwrap();a.remove();
d("body").trigger("jspanelclosed",e);"modal"===b&&d(".jsPanel-backdrop").remove();jsPanel.reposMinimized(jsPanel.widthForMinimized);"hint"===b&&(a=jsPanel.hintsTc.indexOf(e),-1!==a&&(jsPanel.hintsTc.splice(a,1),jsPanel.reposHints(jsPanel.hintsTc,c)),a=jsPanel.hintsTl.indexOf(e),-1!==a&&(jsPanel.hintsTl.splice(a,1),jsPanel.reposHints(jsPanel.hintsTl,c)),a=jsPanel.hintsTr.indexOf(e),-1!==a&&(jsPanel.hintsTr.splice(a,1),jsPanel.reposHints(jsPanel.hintsTr,c)));return f},closeallTooltips:function(){var a;
d(".jsPanel-tt").each(function(){a=d(this).attr("id");d("#"+a).unwrap().remove();d("body").trigger("jspanelclosed",a)})},closeChildpanels:function(a){var b;d(".jsPanel",a).each(function(){b=d(this).attr("id");d("#"+b).remove();d("body").trigger("jspanelclosed",b)});return a},configControls:function(a,b){"closeonly"===a.buttons?(d(".jsPanel-btn-min, .jsPanel-btn-norm, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",b.header.controls).remove(),b.header.title.css("width","calc(100% - 30px)")):
"none"===a.buttons&&(d("*",b.header.controls).remove(),b.header.title.css("width","100%"));a.close&&b.control("disable","close");a.maximize&&b.control("disable","maximize");a.minimize&&b.control("disable","minimize");a.normalize&&b.control("disable","normalize");a.smallify&&b.control("disable","smallify")},configIconfont:function(a,b){d("*",b.header.controls).css("background-image","none");"bootstrap"===a?(d(".jsPanel-btn-close",b.header.controls).empty().append('<span class="glyphicon glyphicon-remove"></span>'),
d(".jsPanel-btn-max",b.header.controls).empty().append('<span class="glyphicon glyphicon-fullscreen"></span>'),d(".jsPanel-btn-norm",b.header.controls).empty().append('<span class="glyphicon glyphicon-resize-full"></span>'),d(".jsPanel-btn-min",b.header.controls).empty().append('<span class="glyphicon glyphicon-minus"></span>'),d(".jsPanel-btn-small",b.header.controls).empty().append('<span class="glyphicon glyphicon-chevron-up"></span>'),d(".jsPanel-btn-smallrev",b.header.controls).empty().append('<span class="glyphicon glyphicon-chevron-down"></span>')):
"font-awesome"===a&&(d(".jsPanel-btn-close",b.header.controls).empty().append('<i class="fa fa-times"></i>'),d(".jsPanel-btn-max",b.header.controls).empty().append('<i class="fa fa-arrows-alt"></i>'),d(".jsPanel-btn-norm",b.header.controls).empty().append('<i class="fa fa-expand"></i>'),d(".jsPanel-btn-min",b.header.controls).empty().append('<i class="fa fa-minus"></i>'),d(".jsPanel-btn-small",b.header.controls).empty().append('<i class="fa fa-chevron-up"></i>'),d(".jsPanel-btn-smallrev",b.header.controls).empty().append('<i class="fa fa-chevron-down"></i>'))},
configToolbar:function(a,b,c){var f,e,g,k=a.length;for(f=0;f<k;f+=1)if("object"===typeof a[f]&&(e=d(a[f].item),g=e.prop("tagName").toLowerCase(),"button"===g&&(e.append(a[f].btntext),"string"===typeof a[f].btnclass&&e.addClass(a[f].btnclass)),b.append(e),d.isFunction(a[f].callback)))e.on(a[f].event,c,a[f].callback)},control:function(a,b,c){if(3===arguments.length)if("disable"===arguments[1])"close"===c&&(c=d(".jsPanel-btn-close",a.header.controls)),"maximize"===c&&(c=d(".jsPanel-btn-max",a.header.controls)),
"minimize"===c&&(c=d(".jsPanel-btn-min",a.header.controls)),"normalize"===c&&(c=d(".jsPanel-btn-norm",a.header.controls)),"smallify"===c&&(c=d(".jsPanel-btn-small",a.header.controls)),c.off().css({opacity:.5,cursor:"default"});else if("enable"===arguments[1]){var f;"close"===c&&(f=d(".jsPanel-btn-close",a.header.controls));"maximize"===c&&(f=d(".jsPanel-btn-max",a.header.controls));"minimize"===c&&(f=d(".jsPanel-btn-min",a.header.controls));"normalize"===c&&(f=d(".jsPanel-btn-norm",a.header.controls));
"smallify"===c&&(f=d(".jsPanel-btn-small",a.header.controls));f.on("click",function(b){b.preventDefault();a[c]()}).css({opacity:1,cursor:"pointer"})}return a},dblclickhelper:function(a,b){if("string"===typeof a)if("maximize"===a||"normalize"===a)"maximized"!==b.status?b.maximize():b.normalize();else if("minimize"===a||"smallify"===a||"close"===a)b[a]()},docOuterHeight:function(){return d(document).outerHeight()},fixPosition:function(a){var b=a.offset().top-jsPanel.winscrollTop();a.jsPanelfixPos=function(){a.css("top",
jsPanel.winscrollTop()+b+"px")};d(window).on("scroll",a.jsPanelfixPos)},getTitle:function(a){return a.header.title.html()},hideControls:function(a,b){d(".jsPanel-btn-close, .jsPanel-btn-norm, .jsPanel-btn-min, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",b.header.controls).css("display","block");d(a,b.header.controls).css("display","none")},hintTop:function(a){var b,c=0,f=a.length;for(b=0;b<f;b+=1)c+=d("#"+a[b]).outerHeight(!0);return a===jsPanel.hintsTr?{top:c,right:0}:a===jsPanel.hintsTl?
{top:c,left:0}:a===jsPanel.hintsTc?{top:c,left:"center"}:{top:0,left:0}},insertModalBackdrop:function(){var a='<div class="jsPanel-backdrop" style="height:'+jsPanel.docOuterHeight()+'px;"></div>';d("body").append(a)},isBootstrapTheme:function(a){return-1<d.inArray(a,"default primary info success warning danger".split(" "))?a:"default"},isPosInt:function(a){return null!==a.toString().match(/^\+?[1-9]\d*$/)?!0:!1},maxWithinBody:function(a,b){if("maximized"!==a.status&&"default"!==b.paneltype.mode){var c,
f;d(window).off("scroll",a.jsPanelfixPos);jsPanel.restoreFromMinimized(a,b);!0===b.controls.maxtoScreen?(c=jsPanel.calcPosmaxtoScreen(a),f=c.top,c=c.left):(f=jsPanel.winscrollTop()+5+"px",c=jsPanel.winscrollLeft()+5+"px");a.animate({top:f,left:c,width:jsPanel.winouterWidth()-10+"px",height:jsPanel.winouterHeight()-10+"px"},{done:function(){jsPanel.resizeContent(a);a.animate({opacity:1},{duration:150});jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",a);a.status="maximized";d(a).trigger("jspanelmaximized",
a.attr("id"));d(a).trigger("jspanelstatechange",a.attr("id"));(!b.controls.maxtoScreen||b.controls.maxtoScreen&&"body"===b.selector)&&jsPanel.fixPosition(a,b);jsPanel.resizeTitle(a)}})}},maxWithinElement:function(a,b){if("maximized"!==a.status&&"default"!==b.paneltype.mode){var c,f;jsPanel.restoreFromMinimized(a,b);c=parseInt(a.parent().outerWidth(),10)-10+"px";f=parseInt(a.parent().outerHeight(),10)-10+"px";a.animate({top:"5px",left:"5px",width:c,height:f},{done:function(){jsPanel.resizeContent(a);
a.animate({opacity:1},{duration:150});jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",a);a.status="maximized";d(a).trigger("jspanelmaximized",a.attr("id"));d(a).trigger("jspanelstatechange",a.attr("id"));jsPanel.resizeTitle(a)}})}},maximize:function(a,b,c){"body"===b||!0===c.controls.maxtoScreen?jsPanel.maxWithinBody(a,c):jsPanel.maxWithinElement(a,c);return a},minimize:function(a,b){"normalized"===a.status&&(b.width=a.outerWidth()+"px",b.height=a.outerHeight()+"px");a.animate({opacity:0},
{duration:400,complete:function(){a.animate({width:"150px",height:"28px"},{duration:100,complete:function(){jsPanel.movetoMinified(a);jsPanel.resizeTitle(a);a.css("opacity",1)}})}});return a},movetoMinified:function(a){var b=d("#jsPanel-min-container > .jsPanel").length;0===d("#jsPanel-min-container").length&&d("body").append('<div id="jsPanel-min-container"></div>');"minimized"!==a.status&&(a.css({left:b*jsPanel.widthForMinimized+"px",top:0,opacity:1}).appendTo("#jsPanel-min-container").resizable({disabled:!0}).draggable({disabled:!0}),
jsPanel.hideControls(".jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev",a),d(a).trigger("jspanelminimized",a.attr("id")),d(a).trigger("jspanelstatechange",a.attr("id")),a.status="minimized",d(window).off("scroll",a.jsPanelfixPos))},normalize:function(a,b,c,f){d(window).off("scroll",a.jsPanelfixPos);jsPanel.restoreFromMinimized(a,b);f="body"===c?jsPanel.winscrollTop()+f+"px":b.position.top;a.animate({width:b.size.width,height:b.size.height,top:f,left:b.position.left},{done:function(){a.animate({opacity:1},
{duration:150});jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",a);jsPanel.resizeTitle(a);"disabled"!==b.resizable&&a.resizable("enable");"disabled"!==b.draggable&&a.draggable("enable");a.status="normalized";d(a).trigger("jspanelnormalized",a.attr("id"));d(a).trigger("jspanelstatechange",a.attr("id"));"body"===c&&jsPanel.fixPosition(a);jsPanel.resizeContent(a)}});return a},replaceCSSBottomRight:function(a,b){var c=a.position(),d=parseInt(c.top,10),e=parseInt(c.left,10);a.css("bottom")&&
(a.css({top:parseInt(c.top,10)+"px",bottom:""}),b.top=d);a.css("right")&&(a.css({left:parseInt(c.left,10)+"px",right:""}),b.left=e)},reposHints:function(a,b){var c,f,e,g=a.length;c="body"===b?jsPanel.winscrollTop():0;for(e=0;e<g;e+=1)f=d("#"+a[e]),f.animate({top:c+"px"}),c+=f.outerHeight(!0)},reposHintsScroll:function(a){var b=a.offset().top-jsPanel.winscrollTop();d(window).scroll(function(){a.css("top",jsPanel.winscrollTop()+b+"px")})},reposMinimized:function(){var a=d("#jsPanel-min-container > .jsPanel"),
b=a.length,c;for(c=0;c<b;c+=1)a.eq(c).animate({left:c*jsPanel.widthForMinimized+"px"})},resizeContent:function(a){var b,c=a.outerHeight();b="none"===a.footer.css("display")?a.header.outerHeight():a.header.outerHeight()+a.footer.outerHeight();a.content.css({height:c-b+"px",width:"100%"});return a},resizeTitle:function(a){var b=d(a.header.controls).outerWidth(),b=d(a).outerWidth()-b-15+"px";a.header.title.css("width",b)},restoreFromMinimized:function(a,b){"minimized"===a.status&&(a.animate({opacity:0},
{duration:50}),a.appendTo(b.selector));"disabled"!==b.resizable&&a.resizable("enable");"disabled"!==b.draggable&&a.draggable("enable");jsPanel.reposMinimized(jsPanel.widthForMinimized)},rewriteOPaneltype:function(a){return"modal"===a?{type:"modal",mode:"default"}:"tooltip"===a?{type:"tooltip"}:"hint"===a?{type:"hint"}:"modal"===a.type?(a.mode=a.mode||"default",{type:"modal",mode:a.mode}):"tooltip"===a.type?(a.mode=a.mode||!1,a.position=a.position||!1,a.solo=a.solo||!1,a.cornerBG=a.cornerBG||!1,a.cornerOX=
a.cornerOX||!1,a.cornerOY=a.cornerOY||!1,{type:"tooltip",mode:a.mode,position:a.position,solo:a.solo,cornerBG:a.cornerBG,cornerOX:a.cornerOX,cornerOY:a.cornerOY}):{paneltype:!1}},rewriteOPosition:function(a){return"center"===a?{top:"center",left:"center"}:"auto"===a?{top:"auto",left:"auto"}:"top left"===a?{top:"0",left:"0"}:"top center"===a?{top:"0",left:"center"}:"top right"===a?{top:"0",right:"0"}:"center right"===a?{top:"center",right:"0"}:"bottom right"===a?{bottom:"0",right:"0"}:"bottom center"===
a?{bottom:"0",left:"center"}:"bottom left"===a?{bottom:"0",left:"0"}:"center left"===a?{top:"center",left:"0"}:a},setHintDefaults:function(a,b){a.resizable=!1;a.draggable=!1;a.removeHeader=!0;a.toolbarFooter=!1;a.show="fadeIn";b.addClass("jsPanel-hint");b.content.addClass("jsPanel-hint-content");a.autoclose?0>a.autoclose&&(a.autoclose=!1):a.autoclose=8E3;b.content.addClass("jsPanel-hint-"+a.theme);"default"===a.theme||"light"===a.theme?b.content.append('<div class="jsPanel-hint-close-dark"></div>'):
b.content.append('<div class="jsPanel-hint-close-white"></div>')},setModalDefaults:function(a,b){a.selector="body";a.show="fadeIn";"default"===a.paneltype.mode&&(a.resizable=!1,a.draggable=!1,a.removeHeader=!1,a.position={top:"center",left:"center"},a.offset={top:0,left:0},a.controls.buttons="closeonly",d(".jsPanel-btn-min, .jsPanel-btn-norm, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",b).remove(),d(b.header,b.header.title,b.footer).css("cursor","default"),d(".jsPanel-title",b).css("cursor",
"inherit"))},setPanelId:function(a,b){"string"===typeof b?1>d("#"+b).length?a.attr("id",b):(jsPanel.ID+=1,a.attr("id","jsPanel-"+jsPanel.ID),d(".jsPanel-title",a).html(d(".jsPanel-title",a).text()+" AUTO-ID: "+a.attr("id"))):d.isFunction(b)&&a.attr("id",b)},setRTL:function(a,b){var c=[a.header.title,a.content,a.header.toolbar,a.footer],f,e=c.length;for(f=0;f<e;f+=1)c[f].prop("dir","rtl"),b&&c[f].prop("lang",b);a.header.title.css("text-align","right");d(".jsPanel-btn-close",a.header.controls).insertAfter(d(".jsPanel-btn-min",
a.header.controls));d(".jsPanel-btn-max",a.header.controls).insertAfter(d(".jsPanel-btn-min",a.header.controls));d(".jsPanel-btn-small",a.header.controls).insertBefore(d(".jsPanel-btn-min",a.header.controls));d(".jsPanel-btn-smallrev",a.header.controls).insertBefore(d(".jsPanel-btn-min",a.header.controls));d(".jsPanel-hdr-r",a).css({left:"0px",right:"",position:"relative","float":"left"});d(".jsPanel-hint-close-dark, .jsPanel-hint-close-white",a).css("float","left");d(".jsPanel-title",a).css("float",
"right");d(".jsPanel-ftr",a).append('<div style="clear:both;height:0;"></div>');d("button",a.footer).css("float","left")},setTitle:function(a,b){b&&"string"===typeof b&&a.header.title.html(b);return a},setTooltipDefaults:function(a){a.position={};a.resizable=!1;a.draggable=!1;a.show="fadeIn";a.controls.buttons="closeonly"},setZi:function(){var a=100;d(".jsPanel").each(function(){d(this).zIndex()>a&&(a+=d(this).zIndex())});return a+1},smallify:function(a){if("smallified"!==a.status&&"smallifiedMax"!==
a.status){var b;b="maximized"===a.status?"smallifiedMax":"smallified";a.smallify.height=a.outerHeight()+"px";a.panelheaderheight=a.header.outerHeight()-2;a.panelfooterheight=a.footer.outerHeight();a.panelcontentheight=a.content.outerHeight();a.animate({height:a.panelheaderheight+"px"},{done:function(){"maximized"===a.status?jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-small",a):jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-small",a);a.status=b;d(a).trigger("jspanelsmallified",a.attr("id"));
d(a).trigger("jspanelstatechange",a.attr("id"))}})}else a.animate({height:a.smallify.height},{done:function(){"smallified"===a.status?(jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",a),a.status="normalized",d(a).trigger("jspanelnormalized",a.attr("id"))):(jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",a),a.status="maximized",d(a).trigger("jspanelmaximized",a.attr("id")));d(a).trigger("jspanelstatechange",a.attr("id"))}});return a},updateOptionPosition:function(a,b){b.top=
a.css("top");b.left=a.css("left")},updateOptionSize:function(a,b){b.width=a.css("width");b.height=a.css("height")},winouterHeight:function(){return d(window).outerHeight()},winouterWidth:function(){return d(window).outerWidth()},winscrollLeft:function(){return d(window).scrollLeft()},winscrollTop:function(){return d(window).scrollTop()}}})(jQuery);
(function(d){d.jsPanel=function(a){var b=d(jsPanel.template),c=d.extend(!0,{},d.jsPanel.defaults,a);a=c.show;var f=0,e,g,k;try{e=d(c.selector).first(),g=e[0].tagName.toLowerCase(),k=e.children(".jsPanel").length}catch(q){console.log(q),console.log("The element you want to append the jsPanel to does not exist!"),c.selector="body",e=d("body"),g="body",k=e.children(".jsPanel").length}b.status="initialized";b.header=d(".jsPanel-hdr",b);b.header.title=d(".jsPanel-title",b.header);b.header.controls=d(".jsPanel-hdr-r",
b.header);b.header.toolbar=d(".jsPanel-hdr-toolbar",b.header);b.content=d(".jsPanel-content",b);b.footer=d(".jsPanel-ftr",b);b.normalize=function(){jsPanel.normalize(b,c,g,f);return b};b.close=function(){jsPanel.close(b,c.paneltype.type,g)};b.closeChildpanels=function(){jsPanel.closeChildpanels(b);return b};b.minimize=function(){jsPanel.minimize(b,c.size);return b};b.maximize=function(){jsPanel.maximize(b,g,c);return b};b.smallify=function(){jsPanel.smallify(b);return b};b.front=function(){b.css("z-index",
jsPanel.setZi());return b};b.title=function(a){if(a&&"string"===typeof a)return jsPanel.setTitle(b,a),b;if(0===arguments.length)return jsPanel.getTitle(b)};b.addToolbar=function(a,c){jsPanel.addToolbar(b,a,c);return b};b.control=function(a,c){jsPanel.control(b,a,c);return b};b.on("click",function(){b.css("z-index",jsPanel.setZi())});d(".jsPanel-btn-close",b).on("click",function(a){a.preventDefault();jsPanel.close(b,c.paneltype.type,g)});d(".jsPanel-btn-min",b).on("click",function(a){a.preventDefault();
jsPanel.minimize(b,c.size)});d(".jsPanel-btn-max",b).on("click",function(a){a.preventDefault();jsPanel.maximize(b,g,c)});d(".jsPanel-btn-norm",b).on("click",function(a){a.preventDefault();jsPanel.normalize(b,c,g,f)});d(".jsPanel-btn-small, .jsPanel-btn-smallrev",b).on("click",function(a){a.preventDefault();jsPanel.smallify(b)});c.paneltype=jsPanel.rewriteOPaneltype(c.paneltype);c.position=jsPanel.rewriteOPosition(c.position);jsPanel.setPanelId(b,c.id);if("modal"===c.paneltype.type)jsPanel.setModalDefaults(c,
b),1>d(".jsPanel-backdrop").length&&jsPanel.insertModalBackdrop();else if("tooltip"===c.paneltype.type){if(jsPanel.setTooltipDefaults(c),c.paneltype.solo&&jsPanel.closeallTooltips(),c.position=jsPanel.calcToooltipPosition(e,c),b.css({top:c.position.top,left:c.position.left}).addClass("jsPanel-tt"),e.parent().hasClass("jsPanel-tooltip-wrapper")||(e.wrap('<div class="jsPanel-tooltip-wrapper">'),e.parent().append(b),"semisticky"===c.paneltype.mode?b.hover(function(){d.noop()},function(){jsPanel.close(b,
c.paneltype.type,g)}):"sticky"===c.paneltype.mode?d.noop():(c.controls.buttons="none",e.off("mouseout"),e.mouseout(function(){jsPanel.close(b,c.paneltype.type,g)}))),b.css("overflow","visible"),c.paneltype.cornerBG){var l=d("<div></div>"),h="jsPanel-corner-"+c.paneltype.position,n=parseInt(c.paneltype.cornerOX)||0,p=parseInt(c.paneltype.cornerOY)||0,m=c.paneltype.cornerBG;"bottom"!==c.paneltype.position?l.addClass(h).appendTo(b):l.addClass(h).prependTo(b);"top"===c.paneltype.position?(h=parseInt(c.size.width)/
2-12+n+"px",l.css({borderTopColor:m,left:h})):"right"===c.paneltype.position?(h=parseInt(c.size.height)/2-12+p+"px",l.css({borderRightColor:m,left:"-24px",top:h})):"bottom"===c.paneltype.position?(h=parseInt(c.size.width)/2-12+n+"px",l.css({borderBottomColor:m,left:h,top:"-24px"})):"left"===c.paneltype.position&&(h=parseInt(c.size.height)/2-12+p+"px",l.css({borderLeftColor:m,left:c.size.width,top:h}))}}else"hint"===c.paneltype.type&&(jsPanel.setHintDefaults(c,b),d(".jsPanel-hint-close-dark, .jsPanel-hint-close-white",
b).on("click",b,function(a){a.data.close(b,c.paneltype.type,g)}),"0"===c.position.top&&"center"===c.position.left?(0<jsPanel.hintsTc.length&&(c.position=jsPanel.hintTop(jsPanel.hintsTc)),jsPanel.hintsTc.push(b.attr("id"))):"0"===c.position.top&&"0"===c.position.left?(0<jsPanel.hintsTl.length&&(c.position=jsPanel.hintTop(jsPanel.hintsTl)),jsPanel.hintsTl.push(b.attr("id"))):"0"===c.position.top&&"0"===c.position.right&&(0<jsPanel.hintsTr.length&&(c.position=jsPanel.hintTop(jsPanel.hintsTr)),jsPanel.hintsTr.push(b.attr("id"))));
"tooltip"!==c.paneltype.type&&b.appendTo(e);"modal"===c.paneltype.type?(b.css("zIndex","1100"),"extended"===c.paneltype.mode&&d(".jsPanel-backdrop").css("z-index","999")):b.css("z-index",jsPanel.setZi());c.bootstrap?(c.theme=jsPanel.isBootstrapTheme(c.bootstrap),c.controls.iconfont="bootstrap",b.alterClass("jsPanel-theme-*","panel panel-"+c.theme),b.header.alterClass("jsPanel-theme-*","panel-heading"),b.header.title.addClass("panel-title"),b.content.alterClass("jsPanel-theme-*","panel-body"),b.footer.addClass("panel-footer"),
b.header.title.css("color",function(){return b.header.css("color")}),b.content.css("border-top-color",function(){return b.header.css("border-top-color")})):(b.alterClass("jsPanel-theme-*","jsPanel-theme-"+c.theme),b.header.alterClass("jsPanel-theme-*","jsPanel-theme-"+c.theme),b.content.alterClass("jsPanel-theme-*","jsPanel-theme-"+c.theme),b.footer.alterClass("jsPanel-theme-*","jsPanel-theme-"+c.theme));c.removeHeader&&b.header.remove();c.removeHeader||jsPanel.configControls(c.controls,b);c.controls.iconfont&&
jsPanel.configIconfont(c.controls.iconfont,b);c.controls.iconfont||d(".jsPanel-btn-close, .jsPanel-btn-max, .jsPanel-btn-norm, .jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev",b.header.controls).empty();c.toolbarHeader&&!1===c.removeHeader&&("string"===typeof c.toolbarHeader?b.header.toolbar.append(c.toolbarHeader):d.isFunction(c.toolbarHeader)?b.header.toolbar.append(c.toolbarHeader(b.header)):d.isArray(c.toolbarHeader)&&jsPanel.configToolbar(c.toolbarHeader,b.header.toolbar,b));c.toolbarFooter&&
(b.footer.css({display:"block",padding:"0 20px 0 5px"}),"string"===typeof c.toolbarFooter?b.footer.append(c.toolbarFooter):d.isFunction(c.toolbarFooter)?b.footer.append(c.toolbarFooter(b.footer)):d.isArray(c.toolbarFooter)&&jsPanel.configToolbar(c.toolbarFooter,b.footer,b));!0===c.rtl.rtl&&jsPanel.setRTL(b,c.rtl.lang);"string"===typeof c.overflow?b.content.css("overflow",c.overflow):d.isPlainObject(c.overflow)&&b.content.css({"overflow-y":c.overflow.vertical,"overflow-x":c.overflow.horizontal});d.isPlainObject(c.draggable)?
(b.parent().hasClass("jsPanel-content")&&(c.draggable.containment="parent"),c.customdraggable=d.extend(!0,{},d.jsPanel.defaults.draggable,c.draggable),b.draggable(c.customdraggable)):"disabled"===c.draggable&&(d(".jsPanel-title",b).css("cursor","inherit"),b.draggable({disabled:!0}));d.isPlainObject(c.resizable)?(c.customresizable=d.extend(!0,{},d.jsPanel.defaults.resizable,c.resizable),b.resizable(c.customresizable)):"disabled"===c.resizable&&(b.resizable({disabled:!0}),d(".ui-icon-gripsmall-diagonal-se",
b).css("background-image","none"));c.content&&b.content.append(c.content);d.isPlainObject(c.load)&&c.load.url&&(c.load.data||(c.load.data=void 0),b.content.load(c.load.url,c.load.data,function(a,d,e){c.load.complete&&c.load.complete(a,d,e,b);jsPanel.resizeTitle(b);jsPanel.updateOptionSize(b,c.size);b.content.css("width",function(){return b.content.outerWidth()+"px"})}));d.isPlainObject(c.ajax)&&d.ajax(c.ajax).done(function(a,e,f){b.content.empty().append(a);c.ajax.done&&d.isFunction(c.ajax.done)&&
c.ajax.done(a,e,f,b)}).fail(function(a,e,f){c.ajax.fail&&d.isFunction(c.ajax.fail)&&c.ajax.fail(a,e,f,b)}).always(function(a,e,f){b.content.css("width",function(){return b.content.outerWidth()+"px"});c.ajax.always&&d.isFunction(c.ajax.always)&&c.ajax.always(a,e,f,b);jsPanel.resizeTitle(b);jsPanel.updateOptionSize(b,c.size)}).then(function(a,e,f){if(c.ajax.then&&d.isArray(c.ajax.then)){if(c.ajax.then[0]&&d.isFunction(c.ajax.then[0]))c.ajax.then[0](a,e,f,b);jsPanel.resizeTitle(b);jsPanel.updateOptionSize(b,
c.size)}},function(a,e,f){if(c.ajax.then&&d.isArray(c.ajax.then)){if(c.ajax.then[1]&&d.isFunction(c.ajax.then[1]))c.ajax.then[1](a,e,f,b);jsPanel.resizeTitle(b)}});if("string"===typeof c.size&&"auto"===c.size)c.size={width:"auto",height:"auto"};else if(d.isPlainObject(c.size)){if(!jsPanel.isPosInt(c.size.width))if("string"===typeof c.size.width&&"auto"!==c.size.width){if(c.size.width=parseInt(c.size.width,10),1>c.size.width||!d.isNumeric(c.size.width))c.size.width=d.jsPanel.defaults.size.width}else d.isFunction(c.size.width)?
c.size.width=parseInt(c.size.width(),10):"auto"!==c.size.width&&(c.size.width=d.jsPanel.defaults.size.width);if(!jsPanel.isPosInt(c.size.height))if("string"===typeof c.size.height&&"auto"!==c.size.height){if(c.size.height=parseInt(c.size.height,10),1>c.size.height||!d.isNumeric(c.size.height))c.size.height=d.jsPanel.defaults.size.height}else d.isFunction(c.size.height)?c.size.height=parseInt(c.size.height(),10):"auto"!==c.size.height&&(c.size.height=d.jsPanel.defaults.size.height)}b.content.css({width:c.size.width+
"px",height:c.size.height+"px"});b.header.title.css("width",b.content.width()-90);d.isPlainObject(c.iframe)&&(c.iframe.src||c.iframe.srcdoc)&&(e=d("<iframe></iframe>"),c.iframe.srcdoc&&e.prop("srcdoc",c.iframe.srcdoc),c.iframe.src&&e.prop("src",c.iframe.src),"auto"===c.size.width||c.iframe.width?"string"===typeof c.iframe.width&&"%"===c.iframe.width.slice(-1)?e.prop("width",c.iframe.width):e.prop("width",parseInt(c.iframe.width)+"px"):e.prop("width",c.size.width),"auto"===c.size.height||c.iframe.height?
"string"===typeof c.iframe.height&&"%"===c.iframe.height.slice(-1)?e.prop("height",c.iframe.height):e.prop("height",parseInt(c.iframe.height)+"px"):e.prop("height",c.size.height),"string"===typeof c.iframe.name&&e.prop("name",c.iframe.name),"string"===typeof c.iframe.id&&e.prop("id",c.iframe.id),c.iframe.seamless&&e.prop("seamless","seamless"),"string"===typeof c.iframe.sandbox&&e.prop("sandox",c.iframe.sandbox),d.isPlainObject(c.iframe.style)&&e.css(c.iframe.style),"string"===typeof c.iframe.classname?
e.addClass(c.iframe.classname):d.isFunction(c.iframe.classname)&&e.addClass(c.iframe.classname()),b.content.append(e));"tooltip"!==c.paneltype.type&&(b.calcPanelposition=function(a,b){var e={};c.size.width=d(a).outerWidth();c.size.height=d(a).innerHeight();c.position.bottom&&delete c.position.top;c.position.right&&delete c.position.left;if(c.position.bottom||0===c.position.bottom)delete c.position.top,jsPanel.calcPos("bottom",c,k,a);else if(c.position.top||0===c.position.top)"center"===c.position.top?
c.position.top=jsPanel.calcPosCenter(c).top:jsPanel.calcPos("top",c,k,a);if(c.position.right||0===c.position.right)delete c.position.left,jsPanel.calcPos("right",c,k,a);else if(c.position.left||0===c.position.left)"center"===c.position.left?c.position.left=jsPanel.calcPosCenter(c).left:jsPanel.calcPos("left",c,k,a);c.position.top?e.top=parseInt(c.position.top,10)+c.offset.top+"px":e.bottom=parseInt(c.position.bottom,10)+c.offset.top+"px";c.position.left?e.left=parseInt(c.position.left,10)+c.offset.left+
"px":e.right=parseInt(c.position.right,10)+c.offset.left+"px";a.css(e);c.position={top:a.css("top"),left:a.css("left")}},b.calcPanelposition(b,c.selector));"string"===typeof c.addClass.header&&b.header.addClass(c.addClass.header);"string"===typeof c.addClass.content&&b.content.addClass(c.addClass.content);"string"===typeof c.addClass.footer&&b.footer.addClass(c.addClass.footer);if("default"!==c.paneltype.mode&&c.dblclicks){if(c.dblclicks.title)b.header.title.on("dblclick",function(a){a.preventDefault();
jsPanel.dblclickhelper(c.dblclicks.title,b)});if(c.dblclicks.content)b.content.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(c.dblclicks.content,b)});if(c.dblclicks.footer)b.footer.on("dblclick",function(a){a.preventDefault();jsPanel.dblclickhelper(c.dblclicks.footer,b)})}if(-1===a.indexOf(" "))b[a]({done:function(){b.status="normalized";d(b).trigger("jspanelloaded",b.attr("id"));d(b).trigger("jspanelstatechange",b.attr("id"));c.size={width:b.outerWidth()+"px",height:b.outerHeight()+
"px"}}});else b.status="normalized",b.css({display:"block",opacity:1}).addClass(c.show).trigger("jspanelloaded",b.attr("id")).trigger("jspanelstatechange",b.attr("id")),c.size={width:b.outerWidth()+"px",height:b.outerHeight()+"px"};f=jsPanel.calcVerticalOffset(b);jsPanel.replaceCSSBottomRight(b,c.position);b.header.title.prepend(c.title);jsPanel.resizeTitle(b);"hint"===c.paneltype.type&&jsPanel.reposHintsScroll(b);"body"!==g||"tooltip"===c.paneltype.type&&"hint"===c.paneltype.type||jsPanel.fixPosition(b);
c.paneltype&&"default"===c.paneltype.mode||(d(b).on("resize",function(){jsPanel.resizeContent(b);jsPanel.resizeTitle(b)}),d(b).on("resizestop",function(){c.size={width:b.outerWidth()+"px",height:b.outerHeight()+"px"};b.status="normalized";d(b).trigger("jspanelnormalized",b.attr("id"));d(b).trigger("jspanelstatechange",b.attr("id"));jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",b)}),d(b).on("dragstart",function(){d(window).off("scroll",b.jsPanelfixPos);"extended"===c.paneltype.mode&&
b.css("z-index","1100")}),d(b).on("dragstop",function(){c.position={top:b.css("top"),left:b.css("left")};f=jsPanel.calcVerticalOffset(b);"body"===g&&jsPanel.fixPosition(b)}));"number"===typeof c.autoclose&&0<c.autoclose&&jsPanel.autoclose(b,b.attr("id"),c.autoclose);if(c.callback&&d.isFunction(c.callback))c.callback(b);else if(d.isArray(c.callback))for(e=c.callback.length,a=0;a<e;a+=1)if(d.isFunction(c.callback[a]))c.callback[a](b);return b};d.jsPanel.defaults={addClass:{header:!1,content:!1,footer:!1},
ajax:!1,autoclose:!1,bootstrap:!1,callback:void 0,content:!1,controls:{buttons:!0,iconfont:"jsglyph",close:!1,maximize:!1,minimize:!1,normalize:!1,smallify:!1,maxtoScreen:!1},dblclicks:!1,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",stack:".jsPanel",opacity:.7},id:function(){jsPanel.ID+=1;return"jsPanel-"+jsPanel.ID},iframe:!1,load:!1,offset:{top:0,left:0},paneltype:!1,overflow:"hidden",position:"auto",removeHeader:!1,resizable:{handles:"e, s, w, se, sw",autoHide:!1,minWidth:150,minHeight:93},
rtl:!1,selector:"body",show:"fadeIn",size:{width:400,height:222},theme:"default",title:"jsPanel",toolbarFooter:!1,toolbarHeader:!1};d.fn.alterClass=function(a,b){var c;if(-1===a.indexOf("*"))return this.removeClass(a),b?this.addClass(b):this;c=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");this.each(function(a,b){for(var g=" "+b.className+" ";c.test(g);)g=g.replace(c," ");b.className=d.trim(g)});return b?this.addClass(b):this};d("body").click(function(a){var b;
1>d(a.target).closest(".jsPanel-tt").length&&d(".jsPanel-tt").each(function(){b=d(this).attr("id");d("#"+b).unwrap().remove();d("body").trigger("jspanelclosed",b)})})})(jQuery);